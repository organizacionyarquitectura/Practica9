
% tipo de documento
\documentclass{article}

% formato de página
\usepackage[margin=1.5cm, letterpaper]{geometry}

% idioma de los macros
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}

% vínculos
\usepackage{hyperref}

% manejo de ecuaciones
\usepackage{amsmath}

% manejo de figuras
\usepackage{graphicx}
\usepackage{float}

% texto del documento
\begin{document}
    \title{
        Organización y Arquitectura de Computadoras \\
        Práctica 9: Ensamblador \\
    }
    \date{
        13 de junio del 2019
    }
    \author{
        Sandra del Mar Soto Corderi \\
        Edgar Quiroz Castañeda
    }
    \maketitle
	\section{Ejercicios}
	\begin{enumerate}

		%1
		\item {
			Clasifica las instrucciones de la sección 4.2 según los tipos descritos en 4.3.

			\begin{enumerate}
				\item{ \textbf{lw} rs dir\\
					Es de tipo \textbf{I}  \\
				}

        		\item{ \textbf{lh} rs dir\\
        			Es de tipo \textbf{I}  \\
				}

				\item{ \textbf{lb} rs dir\\
					Es de tipo \textbf{I}  \\
				}

				\item{ \textbf{sw} rs dir\\
					Es de tipo \textbf{I}  \\
			  	}

				\item{ \textbf{sh} rs dir\\
					Es de tipo \textbf{I}\\
				}

				\item{ \textbf{sb} rs dir\\
					Es de tipo \textbf{I} \\
				}

				\item{ \textbf{add} rd rs rt\\
					Es de tipo \textbf{R}\\
				}

				\item{ \textbf{addi} rd rs imm\\
					Es de tipo \textbf{I}\\
				}

				\item{ \textbf{sub} rd rs rt\\
					Es de tipo \textbf{R} \\
				}

				\item{ \textbf{subi} rd rs imm\\
					Es de tipo \textbf{I} \\
			  	}

				\item{ \textbf{and} rd rs rt\\
					Es de tipo \textbf{R}\\ 
			  	}

				\item{ \textbf{andi} rd rs imm\\
					Es de tipo \textbf{I}\\
				}

				\item{ \textbf{or} rd rs rt\\
					Es de tipo \textbf{R} 
				}

				\item{ \textbf{ori} rd rs imm\\
					Es de tipo \textbf{I}\\
				}

				\item{ \textbf{beq} rs rt label\\
			  		Es de tipo \textbf{I} \\
		  		}

				\item{ \textbf{bgt} rs rt label\\
					Es de tipo \textbf{I} 
			  	}
        
				\item{ \textbf{j} label\\
					Es de tipo \textbf{J}\\ 
				}

				\item{ \textbf{jr} rd\\
					Es de tipo \textbf{J} 
				}

			\end{enumerate}
		}

		%2
		\item {
			Asigna cuidadosamente los códigos de operación a cada una de las instrucciones. 
			
			\begin{enumerate}
				\item{ \textbf{lw} rs dir\\
					Su código de operación es 000101  \\
				}
				
				\item{ \textbf{lh} rs dir\\
					Su código de operación es 000110 \\
				}
				
				\item{ \textbf{lb} rs dir\\
					Su código de operación es 000111  \\
				}
				
				\item{ \textbf{sw} rs dir\\
					Su código de operación es 001000 \\
				}
				
				\item{ \textbf{sh} rs dir\\
					Su código de operación es 001001\\
				}
				
				\item{ \textbf{sb} rs dir\\
					Su código de operación es 001010\\
				}
				
				\item{ \textbf{add} rd rs rt\\
					Su código de operación es 00000000001\\
				}
				
				\item{ \textbf{addi} rd rs imm\\
					Su código de operación es 000001\\
				}
				
				\item{ \textbf{sub} rd rs rt\\
					Su código de operación es 00000000010 \\
				}
				
				\item{ \textbf{subi} rd rs imm\\
					Su código de operación es 000010 \\
				}
				
				\item{ \textbf{and} rd rs rt\\
					Su código de operación es 00000000011\\
				}
				
				\item{ \textbf{andi} rd rs imm\\
					Su código de operación es 000011\\
				}
				
				\item{ \textbf{or} rd rs rt\\
					Su código de operación es 00000000100\\
				}
				
				\item{ \textbf{ori} rd rs imm\\
					Su código de operación es 000100\\
				}
				
				\item{ \textbf{beq} rs rt label\\
					Su código de operación es 000101 \\
				}
				
				\item{ \textbf{bgt} rs rt label\\
					Su código de operación es 000110\\
				}
				
				\item{ \textbf{j} label\\
					Su código de operación es 001011\\
				}
				
				\item{ \textbf{jr} rd\\
					Su código de operación es 00110
				}
			\end{enumerate}
			
			
			
		}
		%3
		\item {
			Define el tamaño de la memoria y las direcciones de inicio de las secciones de memoria para el área de texto y el área de datos.\\
			
			De acuerdo a la documentación de MIPS, los procesadores modernos compatibles con x86 son capaces de direccionar hasta $2^{32}$ bytes de memoria y las direcciones de memoria son de 32 bits de ancho, así que en este caso le daremos un tamaño estándar de 32 de registros, donde los registros guardados serán para los datos y los registros locales para el área de texto.
		}
	\end{enumerate}

    \section{Preguntas}
    \begin{enumerate}

    %1
    \item {
    Una pseudoinstrucción es una instrucción de lenguaje ensamblador sin implementación directa en el hardware, su función es simplificar la programación sin complicar el hardware, por ejemplo:\\

    Propón 3 pseudoinstrucciones para el lenguaje ensamblador y su traducción.
	
	\begin{enumerate}
		\item {
		\textbf{blt} \$8, \$9, 4 se traduce a:\\ 
		
		\textbf{slt} \$1, \$8, \$9\\
		\textbf{bne} \$1, \$0, 4\\
		}
		\item {
		\textbf{abs} \$1, \$2 se traduce a:\\
		
		\textbf{addu} \$1, \$2, \$0\\
		\textbf{bgez} \$2, 8 (offset=8 $\rightarrow$ operación'sub')\\
		\textbf{sub} \$1, \$2, \$0\\
		}
		\item {
		\textbf{li} \$8, 0x3BF20 se traduce a:\\
		
		\textbf{lui} \$at, 0x0003\\
		\textbf{ori} \$8, \$at, 0xBF20
		}
	\end{enumerate}
	}

	%2
	\item {
	Sólo se implementaron dos modos de direccionamiento, propón cómo podría
	simular el ensamblador los siguientes modos
	\begin{itemize}
		\item {
			label $\pm$ imm \\
			Se puede traducir como una instrucción tipo I, donde la fuente es 
			$\$00$ y el inmediato es
			\[(linea\_actual - linea\_label) \pm imm\]
		}
		\item {
			label $\pm$ imm(reg) \\
			Se puede traducir como una instrucción tipo I, donde la fuente es 
			reg y el inmediato es
			\[(linea\_actual - linea\_label) \pm imm\]
		}
	\end{itemize}

	}

    \end{enumerate}

\section{Especificaciones del programa}

El programa no funciona con datos estáticos y para ejecutarlo, se necesita ejecutar el archivo automata.c

 \begin{thebibliography}{1}
	\bibitem{manual}
	\textit{MIPS® Architecture For Programmers Volume II-A: The MIPS64® Instruction Set Reference Manual [Online]}. Disponible:
	\url{https://s3-eu-west-1.amazonaws.com/downloads-mips/documents/MD00087-2B-MIPS64BIS-AFP-6.06.pdf}.
	[Consultado: 13-Junio-2019].

	\bibitem{instru}
	\textit{MIPS Assembly/Pseudoinstructions [Online]}. Disponible:
	\url{https://en.wikibooks.org/wiki/MIPS_Assembly/Pseudoinstructions}.
	[Consultado: 13-Junio-2019].

\end{thebibliography}

\end{document}
